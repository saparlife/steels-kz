# TODO - План работ

## Фаза 1: Сбор данных (В ПРОЦЕССЕ)

### Парсинг
- [x] Парсер категорий
- [x] Парсер товаров с атрибутами
- [x] Исправить пагинацию (было только 11к, нужно 177к)
- [ ] **Дождаться завершения парсинга** (~177,000 товаров)
- [ ] Скачать изображения товаров на свой storage

### Скачивание изображений
```bash
# После завершения парсинга товаров
# Скрипт: scripts/download-images.ts
# - Скачать все изображения с temir-service.kz
# - Загрузить в Supabase Storage
# - Обновить URL в БД
```

---

## Фаза 2: Уникализация контента

### Тексты товаров
- [ ] Скрипт для рерайта названий товаров
- [ ] Скрипт для генерации уникальных описаний
- [ ] Уникальные meta title/description

### Подходы к уникализации
1. **Шаблоны с вариациями** - разные формулировки для одинаковых товаров
2. **Синонимы** - замена слов на синонимы
3. **Перестановка** - изменение порядка слов/фраз
4. **AI-генерация** - использовать LLM для рерайта (дорого на 177к)

### Примеры уникализации

**Было (temir-service.kz):**
```
Название: Труба профильная 40х20х2
Description: Труба профильная 40х20х2 мм - купить в Алматы
```

**Стало (наш сайт):**
```
Название: Профильная труба 40x20x2 мм ГОСТ
Description: Профтруба 40х20х2 - цена, характеристики, доставка по Казахстану
```

---

## Фаза 3: SEO-оптимизация

- [ ] Генерация sitemap.xml (177k URL)
- [ ] Robots.txt
- [ ] JSON-LD структурированные данные
- [ ] Open Graph теги
- [ ] Канонические URL
- [ ] Хлебные крошки
- [ ] Внутренняя перелинковка

---

## Фаза 4: Функционал сайта

### Каталог
- [x] Страница категории с товарами
- [x] Фильтры по атрибутам
- [ ] Сортировка товаров
- [ ] Пагинация
- [ ] Поиск

### Страница товара
- [x] Базовая страница
- [ ] Галерея изображений
- [ ] Таблица характеристик
- [ ] Похожие товары
- [ ] Форма заявки

### Админ-панель
- [x] Управление категориями
- [x] Управление товарами
- [x] Управление новостями
- [ ] Управление страницами
- [ ] Настройки сайта
- [ ] SEO-настройки

---

## Фаза 5: Деплой

- [ ] Настройка домена
- [ ] Деплой на Vercel
- [ ] Подключение аналитики
- [ ] Отправка в Google Search Console
- [ ] Отправка в Яндекс.Вебмастер

---

## Текущий статус

### Парсер (сервер 65.21.195.154)
```bash
# Проверить прогресс
ssh root@65.21.195.154 "docker logs steel-parser --tail 30"

# Количество готовых категорий
ssh root@65.21.195.154 "docker logs steel-parser 2>&1 | grep -c '✓'"
```

### База данных
- Supabase: nlatynxsoxzbmbfvctum.supabase.co
- Товаров: ~11,317 (парсинг в процессе, будет ~177,000)
- Категорий: 648
- Атрибутов: ~132

---

## Заметки

### Скорость парсинга
- 30 параллельных запросов
- 30ms задержка между запросами
- ~24 товара на страницу
- Полный парсинг: несколько часов

### Проблемы и решения
1. **Пагинация не работала** - исправлено, теперь 3 метода определения страниц
2. **11к вместо 177к товаров** - парсер брал только 1 страницу, исправлено

### Документация
- [docs/PARSER.md](docs/PARSER.md) - подробная документация парсера
